{"version":3,"sources":["layout/Login.js","layout/Log.js","layout/Participants.js","layout/Timer.js","layout/Auction.js","layout/Register.js","layout/Footer.js","layout/Server.js","common/PrivateRoute.js","App.js","index.js","img/logo-grey.png"],"names":["axios","require","Login","props","useState","name","setName","password","setPassword","errors","setErrors","className","onSubmit","e","preventDefault","console","log","userData","post","then","res","localStorage","setItem","data","token","window","location","href","catch","error","response","style","marginTop","htmlFor","placeholder","type","value","onChange","target","id","color","defaultValue","textAlign","to","arr","Log","socket","setLog","useEffect","on","concat","length","map","entry","index","key","marginBottom","paddingRight","time","msg","Participants","participants","setParticipants","emit","Timer","setTime","Auction","bidding","isBidding","Status","lot","setLot","_handleKeyDown","event","keyCode","_handleKeyUp","socketIOClient","process","PORT","query","jwtToken","onLogout","document","addEventListener","disconnect","removeEventListener","autionStatus","LoadingPage","Fragment","waitingPage","sitOutPage","fontWeight","wonPage","notSoldPage","donePage","lostPage","biddingPage","user","onClick","width","left","minHeight","cx","active","failed","Register","history","push","Footer","alt","src","Logo","height","Server","speed","setSpeed","padding","backgroundColor","borderStyle","borderColor","alert","accept","download","PrivateRoute","Component","component","handleLogout","isAuthenticated","rest","render","invalid_token","authenticated_initial","user_intial","removeItem","decoded","jwt_decode","currentTime","Date","now","exp","App","setUser","authenticated","setIsAuthenticated","exact","path","ReactDOM","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.dc4627c4.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nexport default function Login(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errors, setErrors] = useState(null);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(name);\r\n\r\n    const userData = {\r\n      name: name,\r\n      password: password,\r\n    };\r\n\r\n    axios\r\n      .post(`/login`, userData)\r\n      .then((res) => {\r\n        localStorage.setItem(\"jwtToken\", res.data.token);\r\n        window.location.href = \"/auction\";\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          setErrors(error.response.data); // => the response payload\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form onSubmit={onSubmit} style={{ marginTop: \"25%\" }}>\r\n        <h1>Login</h1>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"u-full-width\">\r\n            <label htmlFor=\"exampleEmailInput\">Your Name</label>\r\n            <input\r\n              className=\"u-full-width\"\r\n              placeholder=\"Mohamed Akbarally\"\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              id=\"name\"\r\n            />\r\n            {errors && errors.name && (\r\n              <p style={{ color: \"Red\" }}>{errors.name}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"u-full-width\">\r\n            <label htmlFor=\"exampleEmailInput\">Your Password</label>\r\n            <input\r\n              className=\"u-full-width\"\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"********\"\r\n              id=\"password\"\r\n            />\r\n            {errors && errors.password && (\r\n              <p style={{ color: \"Red\" }}>{errors.password}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <input className=\"button-primary\" type=\"submit\" defaultValue=\"Submit\" />\r\n      </form>\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <Link to=\"/register\">Register?</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nvar arr = [];\r\nexport default function Log(props) {\r\n  const { socket } = props;\r\n  const [log, setLog] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      arr = [];\r\n      socket.on(\"log\", function (data) {\r\n        if (data) {\r\n          arr = arr.concat(data);\r\n          setLog(arr.length);\r\n        } else {\r\n          arr = [];\r\n        }\r\n      });\r\n    }\r\n  }, [socket]);\r\n\r\n  return (\r\n    <div>\r\n      <h4>Auction Log</h4>\r\n      <div className=\"log\">\r\n        {arr.map((entry, index) => (\r\n          <p key={index} style={{ marginBottom: 0, paddingRight: 10 }}>\r\n            <strong>{entry.time} </strong>\r\n            {entry.msg}\r\n          </p>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nexport default function Participants(props) {\r\n  const { socket } = props;\r\n  const [participants, setParticipants] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on(\"participants\", function (data) {\r\n        setParticipants(data);\r\n        console.log(data);\r\n      });\r\n\r\n      socket.emit(\"participants\", \"get\");\r\n    }\r\n  }, [socket]);\r\n\r\n  return (\r\n    <div>{participants && <div>Bidders Remaining: {participants}</div>}</div>\r\n  );\r\n  //\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nexport default function Timer(props) {\r\n  const { socket } = props;\r\n  const [time, setTime] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on(\"auction\", function (data) {\r\n        setTime(data);\r\n      });\r\n    }\r\n  }, [socket]);\r\n\r\n  return (\r\n    time && (\r\n      <h1 style={{ marginBottom: \"-5px\" }} className=\"timer\">\r\n        {time}\r\n      </h1>\r\n    )\r\n  );\r\n\r\n  //\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport cx from \"classnames\";\r\nimport Log from \"./Log\";\r\nimport Participants from \"./Participants\";\r\nimport Timer from \"./Timer\";\r\n\r\nconst ENTER_KEY = 13;\r\nvar socket = null;\r\n\r\nexport default function Auction(props) {\r\n  const [bidding, isBidding] = useState(false);\r\n  const [lot, setLot] = useState({ Status: null, \"Lot Number\": null });\r\n\r\n  const _handleKeyDown = (event) => {\r\n    switch (event.keyCode) {\r\n      case ENTER_KEY:\r\n        isBidding(true);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const _handleKeyUp = (event) => {\r\n    switch (event.keyCode) {\r\n      case ENTER_KEY:\r\n        isBidding(false);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket = socketIOClient(\r\n      \"https://tea-auction-demo.herokuapp.com/\" + process.env.PORT,\r\n      {\r\n        query: { token: localStorage.jwtToken },\r\n      }\r\n    );\r\n\r\n    socket.on(\"error\", function (msg) {\r\n      console.log(msg);\r\n\r\n      window.location.href = \"/login\";\r\n      props.onLogout();\r\n    });\r\n\r\n    socket.on(\"lot\", function (data) {\r\n      setLot(data);\r\n    });\r\n\r\n    document.addEventListener(\"keydown\", _handleKeyDown);\r\n    document.addEventListener(\"keyup\", _handleKeyUp);\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n      document.removeEventListener(\"keydown\", _handleKeyDown);\r\n      document.removeEventListener(\"keyup\", _handleKeyUp);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (lot[\"Status\"] === \"BIDDING_B\") {\r\n      if (bidding === false) socket.emit(\"bidding\", false);\r\n      //emit\r\n    }\r\n\r\n    if (lot[\"Status\"] === \"WAITING\") {\r\n      if (bidding === true) socket.emit(\"bidding\", true);\r\n      if (bidding === false) socket.emit(\"bidding\", false);\r\n\r\n      //emit\r\n    }\r\n  }, [bidding]);\r\n\r\n  //loading content\r\n  const LoadingPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <div className=\"lds-ring\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  //when user is waiting for the lot to start\r\n  const waitingPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <p>\r\n          {lot[\"Lot Number\"] && (\r\n            <span>Waiting for Lot #{lot[\"Lot Number\"]} to Start</span>\r\n          )}\r\n        </p>\r\n        <Timer socket={socket}></Timer>\r\n\r\n        <p>Seconds</p>\r\n        {bidding ? (\r\n          <span> You are Bidding in this Lot</span>\r\n        ) : (\r\n          <React.Fragment>\r\n            <div className=\"inline\">\r\n              <span>Press</span>\r\n            </div>\r\n            <div className=\"key\">\r\n              <span>Enter ⏎</span>\r\n            </div>\r\n            <div className=\"inline\">\r\n              <span> to Bid in Lot</span>\r\n            </div>\r\n          </React.Fragment>\r\n        )}\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  //user not bidding\r\n  const sitOutPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <h3 style={{ marginBottom: \"0px\", fontWeight: 700 }}>\r\n          LOT #{lot[\"Lot Number\"] && lot[\"Lot Number\"]} IN PROGRESS\r\n        </h3>\r\n        You are not Participating in this Lot\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  //when user has one\r\n  const wonPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <h3 style={{ marginBottom: \"0px\", fontWeight: 700 }}>\r\n          YOU WON LOT #{lot[\"Lot Number\"] && lot[\"Lot Number\"]} AT RS.{\" \"}\r\n          {lot[\"Price\"]}\r\n        </h3>\r\n        The next lot will start shortly\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  //no user bought the lot\r\n  const notSoldPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <h3 style={{ marginBottom: \"0px\", fontWeight: 700 }}>\r\n          LOT #{lot[\"Lot Number\"] && lot[\"Lot Number\"]} NOT SOLD\r\n        </h3>\r\n        The next lot will start shortly\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  //the auction is over\r\n  const donePage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <h3 style={{ marginBottom: \"0px\", fontWeight: 700 }}>\r\n          AUCTION IS OVER\r\n        </h3>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  // the user lost\r\n  const lostPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <h3 style={{ marginBottom: \"0px\", fontWeight: 700 }}>\r\n          YOU WITHDREW FROM LOT #{lot[\"Lot Number\"] && lot[\"Lot Number\"]}\r\n        </h3>\r\n        The next lot will start shortly\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  // the user is bidding\r\n  const biddingPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <p>\r\n          {lot[\"Lot Number\"] && <Participants socket={socket}></Participants>}\r\n        </p>\r\n        <Timer socket={socket}></Timer>\r\n        <p>Rupees</p>\r\n\r\n        <React.Fragment>\r\n          <div className=\"inline\">\r\n            <span>Release</span>\r\n          </div>\r\n          <div className=\"key2\">\r\n            <span className=\"pressed\">Enter ⏎</span>\r\n          </div>\r\n          <div className=\"inline\">\r\n            <span> to Withdraw from Lot</span>\r\n          </div>\r\n        </React.Fragment>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  var autionStatus;\r\n  switch (lot[\"Status\"]) {\r\n    case \"WAITING\":\r\n      autionStatus = waitingPage;\r\n      break;\r\n    case \"SITOUT\":\r\n      autionStatus = sitOutPage;\r\n      break;\r\n    case \"BIDDING_W\":\r\n      autionStatus = wonPage;\r\n      break;\r\n    case \"BIDDING_L\":\r\n      autionStatus = lostPage;\r\n      break;\r\n    case \"BIDDING_B\":\r\n      autionStatus = biddingPage;\r\n      break;\r\n    case \"NOTSOLD\":\r\n      autionStatus = notSoldPage;\r\n      break;\r\n    case \"DONE\":\r\n      autionStatus = donePage;\r\n      break;\r\n    default:\r\n      autionStatus = LoadingPage;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        className=\"container\"\r\n        style={{ marginTop: \"20px\", marginBottom: \"-40px\" }}\r\n      >\r\n        <div className=\"row\" style={{ marginBottom: \"-40px\" }}>\r\n          <div className=\"eight columns\">\r\n            {\" \"}\r\n            <h3>Welcome, {props.user[\"name\"]}</h3>\r\n          </div>\r\n          <div className=\"four columns\">\r\n            {\" \"}\r\n            <button\r\n              onClick={props.onLogout}\r\n              className=\"button-primary u-pull-right\"\r\n            >\r\n              Log Out\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr style={{ width: \"100vw\", left: 0 }} />\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          marginTop: \"30px\",\r\n          minHeight: \"100%\",\r\n        }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"eight columns\">\r\n            <div\r\n              className={cx(\"main\", {\r\n                active:\r\n                  (bidding && lot[\"Status\"] === \"WAITING\") ||\r\n                  lot[\"Status\"] === \"BIDDING_B\" ||\r\n                  lot[\"Status\"] === \"BIDDING_W\",\r\n                failed: lot[\"Status\"] === \"BIDDING_L\",\r\n              })}\r\n            >\r\n              {autionStatus}\r\n            </div>\r\n          </div>\r\n          <div className=\"four columns\">\r\n            <Log socket={socket}></Log>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nconst axios = require(\"axios\");\r\n\r\nexport default function Register(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errors, setErrors] = useState(null);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(name);\r\n\r\n    const userData = {\r\n      name: name,\r\n      password: password,\r\n    };\r\n\r\n    axios\r\n      .post(`/register`, userData)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        props.history.push(\"/login\");\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          setErrors(error.response.data); // => the response payload\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form onSubmit={onSubmit} style={{ marginTop: \"25%\" }}>\r\n        <h1>Register</h1>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"u-full-width\">\r\n            <label htmlFor=\"exampleEmailInput\">Your Name</label>\r\n            <input\r\n              className=\"u-full-width\"\r\n              placeholder=\"Mohamed Akbarally\"\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              id=\"name\"\r\n            />\r\n            {errors && errors.name && (\r\n              <p style={{ color: \"Red\" }}>{errors.name}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"u-full-width\">\r\n            <label htmlFor=\"exampleEmailInput\">Your Password</label>\r\n            <input\r\n              className=\"u-full-width\"\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"********\"\r\n              id=\"password\"\r\n            />\r\n            {errors && errors.password && (\r\n              <p style={{ color: \"Red\" }}>{errors.password}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <input className=\"button-primary\" type=\"submit\" defaultValue=\"Submit\" />\r\n      </form>\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <Link to=\"/login\">Log in?</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Logo from \"../img/logo-grey.png\";\r\nexport default function Footer() {\r\n  return (\r\n    <div className=\"footer\">\r\n      <img alt=\"logo\" src={Logo} height=\"40\" className=\"logo\"></img>\r\n      <h5 className=\"footertext\">TEA AUCTION DEMO V1</h5>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\nconst axios = require(\"axios\");\n\nexport default function Server() {\n  const [time, setTime] = useState(10);\n  const [speed, setSpeed] = useState(1);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    const userData = {\n      time: time,\n      speed: speed,\n    };\n\n    axios.post(`/startserver`, userData).then((res) => {\n      alert(\"done\");\n    });\n  };\n  return (\n    <div\n      className=\"container\"\n      style={{\n        marginTop: \"100px\",\n        padding: \"30px\",\n        backgroundColor: \"#fff\",\n        borderStyle: \"solid\",\n        borderColor: \"#eee\",\n      }}\n    >\n      <h2>Server</h2>\n      <form onSubmit={onSubmit}>\n        <label htmlFor=\"time\">Starting Time:</label>\n        <input\n          type=\"number\"\n          id=\"fname\"\n          name=\"time\"\n          value={time}\n          onChange={(e) => setTime(e.target.value)}\n        />\n        <br />\n        <label htmlFor=\"speed\">Speed:</label>\n        <input\n          type=\"number\"\n          id=\"lname\"\n          name=\"speed\"\n          value={speed}\n          onChange={(e) => setSpeed(e.target.value)}\n        />\n        <br />\n        <label htmlFor=\"speed\">Excel File:</label>\n        <input type=\"file\" id=\"myFile\" name=\"myFile\" accept=\".csv\" />\n        <br />\n        if no file is chosen defualt template will be used\n        <br />\n        <a href=\"../auction.csv\" download=\"auction.csv\">\n          Download Template?\n        </a>\n        <br />\n        <br />\n        <button type=\"submit\">Start Server</button>\n      </form>\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  handleLogout,\r\n  isAuthenticated,\r\n  ...rest\r\n}) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated === true ? (\r\n        <Component {...props} handleLogout={handleLogout} />\r\n      ) : (\r\n        <Redirect to=\"/login\" />\r\n      )\r\n    }\r\n  />\r\n);\r\nexport default PrivateRoute;\r\n","import React, { useState } from \"react\";\nimport Login from \"./layout/Login\";\nimport Auction from \"./layout/Auction\";\nimport Register from \"./layout/Register\";\nimport Footer from \"./layout/Footer\";\nimport Server from \"./layout/Server\";\n\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport PrivateRoute from \"./common/PrivateRoute\";\nimport jwt_decode from \"jwt-decode\";\nconst axios = require(\"axios\");\n\nconst invalid_token = () => {\n  authenticated_initial = false;\n  user_intial = null;\n  localStorage.removeItem(\"jwtToken\");\n  window.location.href = \"/login\";\n};\n\nif (localStorage.jwtToken) {\n  try {\n    const decoded = jwt_decode(localStorage.jwtToken);\n    var authenticated_initial = true;\n    var user_intial = decoded;\n    console.log(user_intial);\n    const currentTime = Date.now() / 1000;\n\n    if (decoded.exp < currentTime) {\n      invalid_token();\n    }\n  } catch (error) {\n    invalid_token();\n  }\n}\nfunction App() {\n  const [user, setUser] = useState(user_intial);\n  const [authenticated, setIsAuthenticated] = useState(authenticated_initial);\n\n  const onLogout = () => {\n    setUser(null);\n    setIsAuthenticated(null);\n    localStorage.removeItem(\"jwtToken\");\n    window.location.href = \"/login\";\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <PrivateRoute\n            exact\n            path=\"/auction\"\n            isAuthenticated={authenticated}\n            component={() => <Auction user={user} onLogout={onLogout} />}\n          />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/\" component={Login} />\n          <Route exact path=\"/register\" component={Register} />\n          <Route exact path=\"/server\" component={Server} />\n        </Switch>\n        <Footer></Footer>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo-grey.2554ee59.png\";"],"sourceRoot":""}