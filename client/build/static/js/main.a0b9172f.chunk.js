(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t){},118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(54),c=a.n(r),o=(a(66),a(1)),m=a(8),i=a(12);function s(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),d=u[0],E=u[1],p=Object(n.useState)(null),g=Object(o.a)(p,2),v=g[0],b=g[1];return l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(r);var t={name:r,password:d};i.post("/login",t).then((function(e){localStorage.setItem("jwtToken",e.data.token),window.location.href="/auction"})).catch((function(e){e.response&&b(e.response.data)}))},style:{marginTop:"100px"}},l.a.createElement("h1",null,"Login"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"u-full-width"},l.a.createElement("label",{htmlFor:"exampleEmailInput"},"Your Name"),l.a.createElement("input",{className:"u-full-width",placeholder:"Mohamed Akbarally",type:"text",value:r,onChange:function(e){return c(e.target.value)},id:"name"}),v&&v.name&&l.a.createElement("p",{style:{color:"Red"}},v.name))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"u-full-width"},l.a.createElement("label",{htmlFor:"exampleEmailInput"},"Your Password"),l.a.createElement("input",{className:"u-full-width",type:"password",value:d,onChange:function(e){return E(e.target.value)},placeholder:"********",id:"password"}),v&&v.password&&l.a.createElement("p",{style:{color:"Red"}},v.password))),l.a.createElement("input",{className:"button-primary",type:"submit",defaultValue:"Submit"})),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(m.b,{to:"/register"},"Register?")))}var u=a(56),d=a.n(u),E=a(57),p=a.n(E),g=[];function v(e){var t=e.socket,a=Object(n.useState)(0),r=Object(o.a)(a,2),c=(r[0],r[1]);return Object(n.useEffect)((function(){t&&(g=[],t.on("log",(function(e){e?(g=g.concat(e),c(g.length)):g=[]})))}),[t]),l.a.createElement("div",null,l.a.createElement("h4",null,"Auction Log"),l.a.createElement("div",{className:"log"},g.map((function(e,t){return l.a.createElement("p",{key:t,style:{marginBottom:0,paddingRight:10}},l.a.createElement("strong",null,e.time," "),e.msg)}))))}function b(e){var t=e.socket,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1];return Object(n.useEffect)((function(){t&&(t.on("participants",(function(e){m(e),console.log(e)})),t.emit("participants","get"))}),[t]),l.a.createElement("div",null,c&&l.a.createElement("div",null,"Bidders Remaining: ",c))}function h(e){var t=e.socket,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1];return Object(n.useEffect)((function(){t&&t.on("auction",(function(e){m(e)}))}),[t]),c&&l.a.createElement("h1",{style:{marginBottom:"-5px"},className:"timer"},c)}var f=null;function N(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)({Status:null,"Lot Number":null}),i=Object(o.a)(m,2),s=i[0],u=i[1],E=function(e){switch(e.keyCode){case 13:c(!0)}},g=function(e){switch(e.keyCode){case 13:c(!1)}};Object(n.useEffect)((function(){return(f=d()("https://tea-auction-demo.herokuapp.com",{query:{token:localStorage.jwtToken}})).on("error",(function(t){console.log(t),window.location.href="/login",e.onLogout()})),f.on("lot",(function(e){u(e)})),document.addEventListener("keydown",E),document.addEventListener("keyup",g),function(){f.disconnect(),document.removeEventListener("keydown",E),document.removeEventListener("keyup",g)}}),[]),Object(n.useEffect)((function(){"BIDDING_B"===s.Status&&!1===r&&f.emit("bidding",!1),"WAITING"===s.Status&&(!0===r&&f.emit("bidding",!0),!1===r&&f.emit("bidding",!1))}),[r]);var N,O=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"vertical-center"},l.a.createElement("div",{className:"lds-ring"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)))),w=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"vertical-center"},l.a.createElement("p",null,s["Lot Number"]&&l.a.createElement("span",null,"Waiting for Lot #",s["Lot Number"]," to Start")),l.a.createElement(h,{socket:f}),l.a.createElement("p",null,"Seconds"),r?l.a.createElement("span",null," You are Bidding in this Lot"):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"inline"},l.a.createElement("span",null,"Press")),l.a.createElement("div",{className:"key"},l.a.createElement("span",null,"Enter \u23ce")),l.a.createElement("div",{className:"inline"},l.a.createElement("span",null," to Bid in Lot"))))),S=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"vertical-center"},l.a.createElement("h3",{style:{marginBottom:"0px",fontWeight:700}},"LOT #",s["Lot Number"]&&s["Lot Number"]," IN PROGRESS"),"You are not Participating in this Lot")),y=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"vertical-center"},l.a.createElement("h3",{style:{marginBottom:"0px",fontWeight:700}},"YOU WON LOT #",s["Lot Number"]&&s["Lot Number"]," AT RS."," ",s.Price),"The next lot will start shortly")),j=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"vertical-center"},l.a.createElement("h3",{style:{marginBottom:"0px",fontWeight:700}},"LOT #",s["Lot Number"]&&s["Lot Number"]," NOT SOLD"),"The next lot will start shortly")),L=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"vertical-center"},l.a.createElement("h3",{style:{marginBottom:"0px",fontWeight:700}},"AUCTION IS OVER"))),k=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"vertical-center"},l.a.createElement("h3",{style:{marginBottom:"0px",fontWeight:700}},"YOU WITHDREW FROM LOT #",s["Lot Number"]&&s["Lot Number"]),"The next lot will start shortly")),x=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"vertical-center"},l.a.createElement("p",null,s["Lot Number"]&&l.a.createElement(b,{socket:f})),l.a.createElement(h,{socket:f}),l.a.createElement("p",null,"Rupees"),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"inline"},l.a.createElement("span",null,"Release")),l.a.createElement("div",{className:"key2"},l.a.createElement("span",{className:"pressed"},"Enter \u23ce")),l.a.createElement("div",{className:"inline"},l.a.createElement("span",null," to Withdraw from Lot")))));switch(s.Status){case"WAITING":N=w;break;case"SITOUT":N=S;break;case"BIDDING_W":N=y;break;case"BIDDING_L":N=k;break;case"BIDDING_B":N=x;break;case"NOTSOLD":N=j;break;case"DONE":N=L;break;default:N=O}return l.a.createElement("div",null,l.a.createElement("div",{className:"container",style:{marginTop:"20px",marginBottom:"-40px"}},l.a.createElement("div",{className:"row",style:{marginBottom:"-40px"}},l.a.createElement("div",{className:"eight columns"}," ",l.a.createElement("h3",null,"Welcome, ",e.user.name)),l.a.createElement("div",{className:"four columns"}," ",l.a.createElement("button",{onClick:e.onLogout,className:"button-primary u-pull-right"},"Log Out")))),l.a.createElement("hr",{style:{width:"100vw",left:0}}),l.a.createElement("div",{className:"container",style:{marginTop:"30px",minHeight:"100%"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"eight columns"},l.a.createElement("div",{className:p()("main",{active:r&&"WAITING"===s.Status||"BIDDING_B"===s.Status||"BIDDING_W"===s.Status,failed:"BIDDING_L"===s.Status})},N)),l.a.createElement("div",{className:"four columns"},l.a.createElement(v,{socket:f})))))}var O=a(12);function w(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),u=s[0],d=s[1],E=Object(n.useState)(null),p=Object(o.a)(E,2),g=p[0],v=p[1];return l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log(r);var a={name:r,password:u};O.post("/register",a).then((function(t){console.log(t.data),e.history.push("/login")})).catch((function(e){e.response&&v(e.response.data)}))},style:{marginTop:"100px"}},l.a.createElement("h1",null,"Register"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"u-full-width"},l.a.createElement("label",{htmlFor:"exampleEmailInput"},"Your Name"),l.a.createElement("input",{className:"u-full-width",placeholder:"Mohamed Akbarally",type:"text",value:r,onChange:function(e){return c(e.target.value)},id:"name"}),g&&g.name&&l.a.createElement("p",{style:{color:"Red"}},g.name))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"u-full-width"},l.a.createElement("label",{htmlFor:"exampleEmailInput"},"Your Password"),l.a.createElement("input",{className:"u-full-width",type:"password",value:u,onChange:function(e){return d(e.target.value)},placeholder:"********",id:"password"}),g&&g.password&&l.a.createElement("p",{style:{color:"Red"}},g.password))),l.a.createElement("input",{className:"button-primary",type:"submit",defaultValue:"Submit"})),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(m.b,{to:"/login"},"Log in?")))}var S=a(58),y=a.n(S);function j(){return l.a.createElement("div",{className:"footer"},l.a.createElement("img",{alt:"logo",src:y.a,height:"30",className:"logo"}),l.a.createElement("h5",{className:"footertext"},"TEA AUCTION DEMO V1"))}var L=a(12);function k(){var e=Object(n.useState)(10),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),m=Object(o.a)(c,2),i=m[0],s=m[1];return l.a.createElement("div",{className:"container",style:{marginTop:"100px",padding:"30px",backgroundColor:"#fff",borderStyle:"solid",borderColor:"#eee"}},l.a.createElement("h2",null,"Server"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={time:a,speed:i};L.post("/startserver",t).then((function(e){alert("done")}))}},l.a.createElement("label",{htmlFor:"time"},"Starting Time:"),l.a.createElement("input",{type:"number",id:"fname",name:"time",value:a,onChange:function(e){return r(e.target.value)}}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"speed"},"Speed:"),l.a.createElement("input",{type:"number",id:"lname",name:"speed",value:i,onChange:function(e){return s(e.target.value)}}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"speed"},"Edit Lots:"),l.a.createElement("a",{href:"https://docs.google.com/spreadsheets/d/193Zi154TVgeRiP6PWJM22AUhOGsBNEp0WS0pcSpgb4M/edit?usp=sharing",target:"_blank"},"Open Spread Sheet"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{type:"submit"},"Start Server")))}a(118);var x=a(2),I=a(60),T=function(e){var t=e.component,a=e.handleLogout,n=e.isAuthenticated,r=Object(I.a)(e,["component","handleLogout","isAuthenticated"]);return l.a.createElement(x.b,Object.assign({},r,{render:function(e){return!0===n?l.a.createElement(t,Object.assign({},e,{handleLogout:a})):l.a.createElement(x.a,{to:"/login"})}}))},B=a(59),D=(a(12),function(){W=!1,A=null,localStorage.removeItem("jwtToken"),window.location.href="/login"});if(localStorage.jwtToken)try{var F=Object(B.a)(localStorage.jwtToken),W=!0,A=F;console.log(A);var R=Date.now()/1e3;F.exp<R&&D()}catch(G){D()}var C=function(){var e=Object(n.useState)(A),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(W),i=Object(o.a)(c,2),u=i[0],d=i[1],E=function(){r(null),d(null),localStorage.removeItem("jwtToken"),window.location.href="/login"};return l.a.createElement(m.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(x.d,null,l.a.createElement(T,{exact:!0,path:"/auction",isAuthenticated:u,component:function(){return l.a.createElement(N,{user:a,onLogout:E})}}),l.a.createElement(x.b,{exact:!0,path:"/login",component:s}),l.a.createElement(x.b,{exact:!0,path:"/",component:s}),l.a.createElement(x.b,{exact:!0,path:"/register",component:w}),l.a.createElement(x.b,{exact:!0,path:"/server",component:k})),l.a.createElement(j,null)))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(C,null)),document.getElementById("root"))},58:function(e,t,a){e.exports=a.p+"static/media/logo-grey.2554ee59.png"},61:function(e,t,a){e.exports=a(119)},66:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.a0b9172f.chunk.js.map