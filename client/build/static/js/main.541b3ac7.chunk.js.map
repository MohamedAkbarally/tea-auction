{"version":3,"sources":["layout/Login.js","layout/Log.js","layout/Participants.js","layout/Timer.js","layout/Bidders.js","layout/Auction.js","layout/Register.js","layout/Footer.js","layout/Server.js","common/PrivateRoute.js","App.js","index.js","img/logo-grey.png"],"names":["axios","require","Login","props","useState","name","setName","password","setPassword","errors","setErrors","className","onSubmit","e","preventDefault","userData","post","then","res","localStorage","setItem","data","token","window","location","href","catch","error","response","style","marginTop","htmlFor","placeholder","type","value","onChange","target","id","color","defaultValue","textAlign","to","arr","Log","socket","setLog","useEffect","on","concat","length","map","entry","index","key","marginBottom","paddingRight","time","msg","Participants","useContext","CounterContext","count","arrToConvert","newArr","i","getCount","Timer","setTime","setCount","Object","keys","forEach","undefined","entries","emit","item","h","backgroundColor","substring","toUpperCase","createContext","canBid","Auction","bidding","isBidding","Status","lot","setLot","_handleKeyDown","event","keyCode","_handleKeyUp","socketIOClient","query","jwtToken","console","log","onLogout","document","addEventListener","disconnect","removeEventListener","user","autionStatus","LoadingPage","Fragment","waitingPage","sitOutPage","fontWeight","wonPage","notSoldPage","donePage","lostPage","biddingPage","Provider","onClick","width","left","minHeight","cx","active","failed","Register","history","push","Footer","alt","src","Logo","height","Server","speed","setSpeed","padding","borderStyle","borderColor","alert","PrivateRoute","Component","component","handleLogout","isAuthenticated","rest","render","defaults","baseURL","invalid_token","authenticated_initial","user_intial","removeItem","decoded","jwt_decode","currentTime","Date","now","exp","App","setUser","authenticated","setIsAuthenticated","exact","path","ReactDOM","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.541b3ac7.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nexport default function Login(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errors, setErrors] = useState(null);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const userData = {\r\n      name: name,\r\n      password: password,\r\n    };\r\n\r\n    axios\r\n      .post(`/login`, userData)\r\n      .then((res) => {\r\n        localStorage.setItem(\"jwtToken\", res.data.token);\r\n        window.location.href = \"/auction\";\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          setErrors(error.response.data); // => the response payload\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form onSubmit={onSubmit} style={{ marginTop: \"100px\" }}>\r\n        <h1>Login</h1>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"u-full-width\">\r\n            <label htmlFor=\"exampleEmailInput\">Your Name</label>\r\n            <input\r\n              className=\"u-full-width\"\r\n              placeholder=\"Mohamed Akbarally\"\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              id=\"name\"\r\n            />\r\n            {errors && errors.name && (\r\n              <p style={{ color: \"Red\" }}>{errors.name}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"u-full-width\">\r\n            <label htmlFor=\"exampleEmailInput\">Your Password</label>\r\n            <input\r\n              className=\"u-full-width\"\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"********\"\r\n              id=\"password\"\r\n            />\r\n            {errors && errors.password && (\r\n              <p style={{ color: \"Red\" }}>{errors.password}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <input className=\"button-primary\" type=\"submit\" defaultValue=\"Submit\" />\r\n      </form>\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <Link to=\"/register\">Register?</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nvar arr = [];\r\nexport default function Log(props) {\r\n  const { socket } = props;\r\n  const [log, setLog] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      arr = [];\r\n      socket.on(\"log\", function (data) {\r\n        if (data) {\r\n          arr = arr.concat(data);\r\n          setLog(arr.length);\r\n        } else {\r\n          arr = [];\r\n        }\r\n      });\r\n    }\r\n  }, [socket]);\r\n\r\n  return (\r\n    <div>\r\n      <h4>Auction Log</h4>\r\n      <div className=\"log\">\r\n        {arr.map((entry, index) => (\r\n          <p key={index} style={{ marginBottom: 0, paddingRight: 10 }}>\r\n            <strong>{entry.time} </strong>\r\n            {entry.msg}\r\n          </p>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { CounterContext } from \"./Auction\";\r\n\r\nconst getCount = (arrToConvert) => {\r\n  var newArr = 0;\r\n  for (var i = 0; i < arrToConvert.length; i++) {\r\n    if (arrToConvert[i][1] == true) {\r\n      newArr++;\r\n    }\r\n  }\r\n  return newArr;\r\n};\r\nexport default function Participants(props) {\r\n  const [count] = useContext(CounterContext);\r\n  return (\r\n    <div>\r\n      <div>Bidders Remaining: {getCount(count)}</div>\r\n    </div>\r\n  );\r\n  //\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nexport default function Timer(props) {\r\n  const { socket } = props;\r\n  const [time, setTime] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      socket.on(\"auction\", function (data) {\r\n        setTime(data);\r\n      });\r\n    }\r\n  }, [socket]);\r\n\r\n  return (\r\n    time && (\r\n      <h1 style={{ marginBottom: \"-5px\" }} className=\"timer\">\r\n        {time}\r\n      </h1>\r\n    )\r\n  );\r\n\r\n  //\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { CounterContext } from \"./Auction\";\n\nexport default function Participants(props) {\n  const { socket } = props;\n  const [count, setCount] = useContext(CounterContext);\n\n  useEffect(() => {\n    if (socket) {\n      socket.on(\"bidder\", function (data) {\n        Object.keys(data).forEach((key) =>\n          data[key] === undefined ? delete data[key] : {}\n        );\n        setCount(Object.entries(data));\n      });\n      socket.emit(\"bidder\");\n    }\n  }, [socket]);\n\n  return (\n    <div>\n      <div className=\"row\" style={{ marginTop: 20 }}>\n        <h6>{count.length > 1 && <span>Bidding:</span>}</h6>\n      </div>\n      <div className=\"row\" style={{ marginTop: -5 }}>\n        {count.map(function (item, i) {\n          if (item[0] == props.name) {\n            return;\n          }\n          var h;\n          var s;\n\n          if (item[1]) {\n            h = \"#33C3F0\";\n          } else {\n            s = \"#ededed\";\n          }\n          return (\n            <div\n              className=\"circle tooltip\"\n              style={{\n                backgroundColor: h,\n              }}\n              key={i}\n            >\n              <span className=\"initials\">\n                {item[0].substring(0, 2).toUpperCase()}\n              </span>\n              <span className=\"tooltiptext\">{item}</span>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n  //\n}\n","import React, { useEffect, useState, createContext } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport cx from \"classnames\";\r\nimport Log from \"./Log\";\r\nimport Participants from \"./Participants\";\r\nimport Timer from \"./Timer\";\r\nimport Bidders from \"./Bidders\";\r\n\r\n//const ENDPOINT = \"https://tea-auction-demo.herokuapp.com\";\r\n//on dev\r\nconst ENDPOINT = \"http://localhost:4001\";\r\n\r\nconst ENTER_KEY = 13;\r\nvar socket = null;\r\n\r\nexport const CounterContext = createContext();\r\n\r\nvar canBid = false;\r\n\r\nexport default function Auction(props) {\r\n  const [bidding, isBidding] = useState(false);\r\n  const [lot, setLot] = useState({ Status: null, \"Lot Number\": null });\r\n  const [count, setCount] = useState([]);\r\n\r\n  const _handleKeyDown = (event) => {\r\n    switch (event.keyCode) {\r\n      case ENTER_KEY:\r\n        isBidding(true);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const _handleKeyUp = (event) => {\r\n    switch (event.keyCode) {\r\n      case ENTER_KEY:\r\n        isBidding(false);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket = socketIOClient(ENDPOINT, {\r\n      query: { token: localStorage.jwtToken },\r\n    });\r\n\r\n    socket.on(\"error\", function (msg) {\r\n      console.log(msg);\r\n      console.log(\"tellllloo\");\r\n      window.location.href = \"/login\";\r\n      props.onLogout();\r\n    });\r\n\r\n    socket.on(\"lot\", function (data) {\r\n      if (data[\"Status\"] == \"WAITING\") {\r\n        canBid = false;\r\n      }\r\n      setLot(data);\r\n    });\r\n\r\n    socket.on(\"rbidding\", function (data) {\r\n      canBid = data;\r\n    });\r\n\r\n    document.addEventListener(\"keydown\", _handleKeyDown);\r\n    document.addEventListener(\"keyup\", _handleKeyUp);\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n      document.removeEventListener(\"keydown\", _handleKeyDown);\r\n      document.removeEventListener(\"keyup\", _handleKeyUp);\r\n    };\r\n  }, [props.user]);\r\n\r\n  useEffect(() => {\r\n    if (lot[\"Status\"] === \"BIDDING_B\") {\r\n      if (bidding === false) socket.emit(\"bidding\", false);\r\n      //emit\r\n    }\r\n\r\n    if (lot[\"Status\"] === \"WAITING\") {\r\n      if (bidding === true) socket.emit(\"bidding\", true);\r\n      if (bidding === false) socket.emit(\"bidding\", false);\r\n\r\n      //emit\r\n    }\r\n  }, [bidding]);\r\n\r\n  //loading content\r\n  const LoadingPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <div className=\"lds-ring\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  //when user is waiting for the lot to start\r\n  const waitingPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <p>\r\n          {lot[\"Lot Number\"] && (\r\n            <span>\r\n              Waiting for Lot #{lot[\"Lot Number\"]} to Start at Rs.{\" \"}\r\n              {lot[\"Starting Price\"]}\r\n            </span>\r\n          )}\r\n        </p>\r\n\r\n        <Timer socket={socket}></Timer>\r\n\r\n        <p>Seconds</p>\r\n        {canBid ? (\r\n          <span> You are Bidding in this Lot</span>\r\n        ) : (\r\n          <React.Fragment>\r\n            <div className=\"inline\">\r\n              <span>Press</span>\r\n            </div>\r\n            <div className=\"key\">\r\n              <span>Enter ⏎</span>\r\n            </div>\r\n            <div className=\"inline\">\r\n              <span> to Bid in Lot</span>\r\n            </div>\r\n          </React.Fragment>\r\n        )}\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  //user not bidding\r\n  const sitOutPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <h3 style={{ marginBottom: \"0px\", fontWeight: 700 }}>\r\n          LOT #{lot[\"Lot Number\"] && lot[\"Lot Number\"]} IN PROGRESS\r\n        </h3>\r\n        You are not Participating in this Lot\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  //when user has one\r\n  const wonPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <h3 style={{ marginBottom: \"0px\", fontWeight: 700 }}>\r\n          YOU WON LOT #{lot[\"Lot Number\"] && lot[\"Lot Number\"]} AT RS.{\" \"}\r\n          {lot[\"Price\"]}\r\n        </h3>\r\n        The next lot will start shortly\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  //no user bought the lot\r\n  const notSoldPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <h3 style={{ marginBottom: \"0px\", fontWeight: 700 }}>\r\n          LOT #{lot[\"Lot Number\"] && lot[\"Lot Number\"]} NOT SOLD\r\n        </h3>\r\n        The next lot will start shortly\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  //the auction is over\r\n  const donePage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <h3 style={{ marginBottom: \"0px\", fontWeight: 700 }}>\r\n          AUCTION IS OVER\r\n        </h3>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  // the user lost\r\n  const lostPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <h3 style={{ marginBottom: \"0px\", fontWeight: 700 }}>\r\n          YOU WITHDREW FROM LOT #{lot[\"Lot Number\"] && lot[\"Lot Number\"]}\r\n        </h3>\r\n        The next lot will start shortly\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  // the user is bidding\r\n  const biddingPage = (\r\n    <React.Fragment>\r\n      <div className=\"vertical-center\">\r\n        <p>\r\n          {lot[\"Lot Number\"] && <Participants socket={socket}></Participants>}\r\n        </p>\r\n        <Timer socket={socket}></Timer>\r\n        <p>Rupees</p>\r\n\r\n        <React.Fragment>\r\n          <div className=\"inline\">\r\n            <span>Release</span>\r\n          </div>\r\n          <div className=\"key2\">\r\n            <span className=\"pressed\">Enter ⏎</span>\r\n          </div>\r\n          <div className=\"inline\">\r\n            <span> to Withdraw from Lot</span>\r\n          </div>\r\n        </React.Fragment>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  var autionStatus;\r\n  switch (lot[\"Status\"]) {\r\n    case \"WAITING\":\r\n      autionStatus = waitingPage;\r\n      break;\r\n    case \"SITOUT\":\r\n      autionStatus = sitOutPage;\r\n      break;\r\n    case \"BIDDING_W\":\r\n      autionStatus = wonPage;\r\n      break;\r\n    case \"BIDDING_L\":\r\n      autionStatus = lostPage;\r\n      break;\r\n    case \"BIDDING_B\":\r\n      autionStatus = biddingPage;\r\n      break;\r\n    case \"NOTSOLD\":\r\n      autionStatus = notSoldPage;\r\n      break;\r\n    case \"DONE\":\r\n      autionStatus = donePage;\r\n      break;\r\n    default:\r\n      autionStatus = LoadingPage;\r\n  }\r\n\r\n  return (\r\n    <CounterContext.Provider value={[count, setCount]}>\r\n      <div>\r\n        <div\r\n          className=\"container\"\r\n          style={{ marginTop: \"20px\", marginBottom: \"-40px\" }}\r\n        >\r\n          <div className=\"row\" style={{ marginBottom: \"-40px\" }}>\r\n            <div className=\"eight columns\">\r\n              {\" \"}\r\n              <h3>Welcome, {props.user[\"name\"]}</h3>\r\n            </div>\r\n            <div className=\"four columns\">\r\n              {\" \"}\r\n              <button\r\n                onClick={props.onLogout}\r\n                className=\"button-primary u-pull-right\"\r\n              >\r\n                Log Out\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <hr style={{ width: \"100vw\", left: 0 }} />\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            marginTop: \"30px\",\r\n            minHeight: \"100%\",\r\n          }}\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"eight columns\">\r\n              <div\r\n                className={cx(\"main\", {\r\n                  active:\r\n                    (canBid && lot[\"Status\"] === \"WAITING\") ||\r\n                    lot[\"Status\"] === \"BIDDING_B\" ||\r\n                    lot[\"Status\"] === \"BIDDING_W\",\r\n                  failed: lot[\"Status\"] === \"BIDDING_L\",\r\n                })}\r\n              >\r\n                {autionStatus}\r\n              </div>\r\n            </div>\r\n            <div className=\"four columns\">\r\n              <Log socket={socket}></Log>\r\n            </div>\r\n          </div>\r\n          <Bidders socket={socket} name={props.user[\"name\"]}></Bidders>\r\n        </div>\r\n      </div>\r\n    </CounterContext.Provider>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nconst axios = require(\"axios\");\r\n\r\nexport default function Register(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errors, setErrors] = useState(null);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(name);\r\n\r\n    const userData = {\r\n      name: name,\r\n      password: password,\r\n    };\r\n\r\n    axios\r\n      .post(`/register`, userData)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        props.history.push(\"/login\");\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          setErrors(error.response.data); // => the response payload\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form onSubmit={onSubmit} style={{ marginTop: \"100px\" }}>\r\n        <h1>Register</h1>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"u-full-width\">\r\n            <label htmlFor=\"exampleEmailInput\">Your Name</label>\r\n            <input\r\n              className=\"u-full-width\"\r\n              placeholder=\"Mohamed Akbarally\"\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              id=\"name\"\r\n            />\r\n            {errors && errors.name && (\r\n              <p style={{ color: \"Red\" }}>{errors.name}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"u-full-width\">\r\n            <label htmlFor=\"exampleEmailInput\">Your Password</label>\r\n            <input\r\n              className=\"u-full-width\"\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"********\"\r\n              id=\"password\"\r\n            />\r\n            {errors && errors.password && (\r\n              <p style={{ color: \"Red\" }}>{errors.password}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <input className=\"button-primary\" type=\"submit\" defaultValue=\"Submit\" />\r\n      </form>\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <Link to=\"/login\">Log in?</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Logo from \"../img/logo-grey.png\";\r\nexport default function Footer() {\r\n  return (\r\n    <div className=\"footer\">\r\n      <img alt=\"logo\" src={Logo} height=\"30\" className=\"logo\"></img>\r\n      <h5 className=\"footertext\">TEA AUCTION DEMO V1</h5>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\nconst axios = require(\"axios\");\n\nexport default function Server() {\n  const [time, setTime] = useState(10);\n  const [speed, setSpeed] = useState(1);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    const userData = {\n      time: time,\n      speed: speed,\n    };\n\n    axios.post(`/startserver`, userData).then((res) => {\n      alert(\"done\");\n    });\n  };\n  return (\n    <div\n      className=\"container\"\n      style={{\n        marginTop: \"100px\",\n        padding: \"30px\",\n        backgroundColor: \"#fff\",\n        borderStyle: \"solid\",\n        borderColor: \"#eee\",\n      }}\n    >\n      <h2>Server</h2>\n      <form onSubmit={onSubmit}>\n        <label htmlFor=\"time\">Starting Time:</label>\n        <input\n          type=\"number\"\n          id=\"fname\"\n          name=\"time\"\n          value={time}\n          onChange={(e) => setTime(e.target.value)}\n        />\n        <br />\n        <label htmlFor=\"speed\">Speed:</label>\n        <input\n          type=\"number\"\n          id=\"lname\"\n          name=\"speed\"\n          value={speed}\n          onChange={(e) => setSpeed(e.target.value)}\n        />\n        <br />\n        <label htmlFor=\"speed\">Edit Lots:</label>\n        <a\n          href=\"https://docs.google.com/spreadsheets/d/193Zi154TVgeRiP6PWJM22AUhOGsBNEp0WS0pcSpgb4M/edit?usp=sharing\"\n          target=\"_blank\"\n        >\n          Open Spread Sheet\n        </a>\n        <br />\n        <br />\n        <button type=\"submit\">Start Server</button>\n      </form>\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  handleLogout,\r\n  isAuthenticated,\r\n  ...rest\r\n}) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated === true ? (\r\n        <Component {...props} handleLogout={handleLogout} />\r\n      ) : (\r\n        <Redirect to=\"/login\" />\r\n      )\r\n    }\r\n  />\r\n);\r\nexport default PrivateRoute;\r\n","import React, { useState } from \"react\";\nimport Login from \"./layout/Login\";\nimport Auction from \"./layout/Auction\";\nimport Register from \"./layout/Register\";\nimport Footer from \"./layout/Footer\";\nimport Server from \"./layout/Server\";\n\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport PrivateRoute from \"./common/PrivateRoute\";\nimport jwt_decode from \"jwt-decode\";\nimport axios from \"axios\";\n\n//on dev\naxios.defaults.baseURL = \"http://localhost:4001\";\n\nconst invalid_token = () => {\n  authenticated_initial = false;\n  user_intial = null;\n  localStorage.removeItem(\"jwtToken\");\n  window.location.href = \"/login\";\n};\n\nif (localStorage.jwtToken) {\n  try {\n    const decoded = jwt_decode(localStorage.jwtToken);\n    var authenticated_initial = true;\n    var user_intial = decoded;\n    const currentTime = Date.now() / 1000;\n\n    if (decoded.exp < currentTime) {\n      invalid_token();\n    }\n  } catch (error) {\n    invalid_token();\n  }\n}\n\nfunction App() {\n  const [user, setUser] = useState(user_intial);\n  const [authenticated, setIsAuthenticated] = useState(authenticated_initial);\n\n  const onLogout = () => {\n    setUser(null);\n    setIsAuthenticated(null);\n    localStorage.removeItem(\"jwtToken\");\n    window.location.href = \"/login\";\n  };\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <PrivateRoute\n            exact\n            path=\"/auction\"\n            isAuthenticated={authenticated}\n            component={() => <Auction user={user} onLogout={onLogout} />}\n          />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/\" component={Login} />\n          <Route exact path=\"/register\" component={Register} />\n          <Route exact path=\"/server\" component={Server} />\n        </Switch>\n        <Footer></Footer>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo-grey.2554ee59.png\";"],"sourceRoot":""}